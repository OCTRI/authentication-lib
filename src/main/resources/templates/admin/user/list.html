<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>List of Users</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/3.3.7/css/bootstrap.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.16/media/css/dataTables.bootstrap.min.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/css/default.css}" />
	</head>
	<body>
		<nav th:replace="fragments/navbar :: navbar"/>
		<div class="container-fluid table-responsive">
			<table class="table table-striped table-condensed users-table display responsive no-wrap">
				<thead>
					<th></th>
					<th>Id</th>
					<th>Username</th>
					<th>Authorities<br/>(Roles)</th>
					<th>Email</th>
					<th>First<br/>Name</th>
					<th>Last<br/>Name</th>
					<th>Institution</th>
					<th>Account<br/>Enabled</th>
					<th>Consecutive<br/>Login<br/>Failures</th>
					<th>Account<br/>Expiration<br/>Date</th>
					<th>Credentials<br/>Expiration<br/>Date</th>
					<th>Account<br/>Locked</th>
					<th>Account<br/>Expired</th>
					<th>Credentials<br/>Expired</th>
				</thead>
				<tbody>
					<tr th:each="user : ${allUsers}">
						<td>
							<a th:replace="fragments/utils :: edit_pencil(${user.id})"></a>
						</td>
						<td>
							<div th:text="${user.id}">...</div>
						</td>
						<td>
							<div th:text="${user.username}">...</div>
						</td>
 						<td>
							<p th:replace="fragments/utils :: roles_display(${user.userRoles})"></p>
						</td>
						<td>
							<div th:text="${user.email}">...</div>
						</td>
						<td>
							<div th:text="${user.firstName}">...</div>
						</td>
						<td>
							<div th:text="${user.lastName}">...</div>
						</td>
						<td>
							<div th:text="${user.institution}">...</div>
						</td>
						<td>
							<div th:replace="fragments/utils :: boolean_display(${user.enabled})"></div>
						</td>
						<td>
							<div th:text="${user.consecutiveLoginFailures}">...</div>
						</td>
						<td>
							<div th:replace="fragments/utils :: date_display(${user.accountExpirationDate})"></div>
						</td>
						<td>
							<div th:replace="fragments/utils :: date_display(${user.credentialsExpirationDate})"></div>
						</td>
						<td>
							<div th:replace="fragments/utils :: boolean_display(${user.accountLocked})"></div>
						</td>
						<td>
							<div th:replace="fragments/utils :: boolean_display(${user.accountExpired})"></div>
						</td>
						<td>
							<div th:replace="fragments/utils :: boolean_display(${user.credentialsExpired})"></div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<link rel="stylesheet" type="text/css" th:href="@{/webjars/datatables/1.10.16/media/css/dataTables.bootstrap.min.css}" />
		<script type="text/javascript" th:src="@{/webjars/datatables/1.10.16/media/js/jquery.js}"></script>
		<script type="text/javascript" th:src="@{/webjars/datatables/1.10.16/media/js/jquery.dataTables.min.js}"></script>
		<script type="text/javascript" th:src="@{/webjars/datatables/1.10.16/media/js/dataTables.bootstrap.min.js}"></script>
		<script type="text/javascript">
			$(function() {
				$('.users-table').DataTable({
					responsive: true,
					columnDefs: [{
						targets: 0,
						orderable: false
					}]
				});
			});
		</script>
	</body>
</html>
